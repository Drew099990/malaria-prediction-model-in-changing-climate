{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/goals%20for%20the%20holiday/malaria-shpher/app/api/predict-batch/route.ts"],"sourcesContent":["import type { NextRequest } from 'next/server';\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    // expect multipart/form-data with a file field named \"file\"\r\n    const form = await request.formData();\r\n    const file = form.get('file');\r\n    if (!file || typeof file === 'string') {\r\n      return Response.json({ error: 'No file uploaded' }, { status: 400 });\r\n    }\r\n\r\n    // forward the file bytes to the FastAPI backend\r\n    const backendForm = new FormData();\r\n    backendForm.append('file', file as Blob);\r\n\r\n    const response = await fetch('http://localhost:8000/api/predict-batch', {\r\n      method: 'POST',\r\n      body: backendForm,\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`Backend returned ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return Response.json(data);\r\n  } catch (err) {\r\n    console.error('Batch prediction proxy error', err);\r\n    return Response.json({ error: 'Batch prediction failed' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,4DAA4D;QAC5D,MAAM,OAAO,MAAM,QAAQ,QAAQ;QACnC,MAAM,OAAO,KAAK,GAAG,CAAC;QACtB,IAAI,CAAC,QAAQ,OAAO,SAAS,UAAU;YACrC,OAAO,SAAS,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,gDAAgD;QAChD,MAAM,cAAc,IAAI;QACxB,YAAY,MAAM,CAAC,QAAQ;QAE3B,MAAM,WAAW,MAAM,MAAM,2CAA2C;YACtE,QAAQ;YACR,MAAM;QACR;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,iBAAiB,EAAE,SAAS,MAAM,EAAE;QACvD;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,SAAS,IAAI,CAAC;IACvB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC3E;AACF","debugId":null}}]
}