{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/goals%20for%20the%20holiday/malaria-shpher/app/%28nav%29/forcast/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState } from \"react\";\r\n\r\nexport default function ForcastPage() {\r\n\r\n  const [temperature, setTemperature] = useState<number | \"\">(\"\");\r\n  const [humidity, setHumidity] = useState<number | \"\">(\"\");\r\n  const [rainyDays, setRainyDays] = useState<number | \"\">(\"\");\r\n  const [previousCases, setPreviousCases] = useState<number | \"\">(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [prediction, setPrediction] = useState<{\r\n    probability: number;\r\n    risk_level: string;\r\n    recommendation: string;\r\n    model_confidence: string;\r\n    predicted_cases?: number;\r\n  } | null>(null);\r\n  const [error, setError] = useState<string>(\"\");\r\n\r\n\r\n  async function submit(e?: React.FormEvent) {\r\n    if (e) e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    setPrediction(null);\r\n\r\n    try {\r\n      const payload = {\r\n        temperature: temperature === \"\" ? null : temperature,\r\n        humidity: humidity === \"\" ? null : humidity,\r\n        rainy_days: rainyDays === \"\" ? null : rainyDays,\r\n        previous_cases: previousCases === \"\" ? null : previousCases,\r\n      };\r\n\r\n      const response = await fetch(\"/api/predict\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to get prediction from AI model\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      setPrediction(data);\r\n      console.log(\"Prediction result:\", data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"An error occurred\");\r\n      console.error(\"Prediction error:\", err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  // reset form inputs\r\n  function reset() {\r\n    setTemperature(\"\");\r\n    setHumidity(\"\");\r\n    setRainyDays(\"\");\r\n    setPreviousCases(\"\");\r\n    setPrediction(null);\r\n    setError(\"\");\r\n  }\r\n\r\n  \r\n  return (\r\n    <main className=\"min-h-screen py-28 px-6 md:px-20 lg:px-36 bg-[linear-gradient(0deg,#ffffff,rgba(236,246,255,0.6))]\">\r\n      <div className=\"max-w-5xl mx-auto\">\r\n        <header className=\"mb-6\">\r\n          <h1 className=\"text-3xl md:text-4xl font-extrabold text-blue-600\">Climate data for Malaria Forecast</h1>\r\n          <p className=\"mt-2 text-black/70 animate-cfade\">Enter local climate and environmental data to get a heuristic outbreak probability .</p>\r\n        </header>\r\n\r\n        <div className=\"grid gap-6 md:grid-cols-2\">\r\n          <section className=\"bg-white/95 ring-1 animate-movel ring-blue-200/40 p-6 rounded-2xl shadow-sm\">\r\n            <h2 className=\"font-bold text-blue-700 mb-3\">Input climate & environmental data</h2>\r\n\r\n            <label className=\"block mb-3\">\r\n              <div className=\"text-sm text-black/80\">Average Temperature (°C)</div>\r\n              <input\r\n                type=\"number\"\r\n                className=\"mt-1 w-full p-2 rounded border\"\r\n                value={temperature}\r\n                onChange={(e) => setTemperature(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n              />\r\n            </label>\r\n\r\n            <label className=\"block mb-3\">\r\n              <div className=\"text-sm text-black/80\">Number of Rainy Days</div>\r\n              <input\r\n                type=\"number\"\r\n                className=\"mt-1 w-full p-2 rounded border\"\r\n                value={rainyDays}\r\n                onChange={(e) => setRainyDays(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n              />\r\n            </label>\r\n\r\n            <label className=\"block mb-3\">\r\n              <div className=\"text-sm text-black/80\">Relative Humidity (%)</div>\r\n              <input\r\n                type=\"number\"\r\n                className=\"mt-1 w-full p-2 rounded border\"\r\n                value={humidity}\r\n                onChange={(e) => setHumidity(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n              />\r\n            </label>\r\n\r\n            <label className=\"block mb-3\">\r\n              <div className=\"text-sm text-black/80\">Previous Month's Cases</div>\r\n              <input\r\n                type=\"number\"\r\n                className=\"mt-1 w-full p-2 rounded border\"\r\n                value={previousCases}\r\n                onChange={(e) => setPreviousCases(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n              />\r\n            </label>\r\n\r\n\r\n            <div className=\"flex gap-3 mt-4\">\r\n              <button\r\n                className=\"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                onClick={(e) => submit(e)}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? \"Computing...\" : \"Compute Probability\"}\r\n              </button>\r\n              <button\r\n                className=\"px-4 py-2 rounded-lg bg-blue-50 border hover:bg-blue-100\"\r\n                onClick={reset}\r\n                type=\"button\"\r\n                disabled={isLoading}\r\n              >\r\n                Reset\r\n              </button>\r\n            </div>\r\n          </section>\r\n\r\n          <aside className=\"bg-white/95 ring-1 animate-mover ring-blue-200/40 p-6 rounded-2xl shadow-sm\">\r\n            <h3 className=\"font-bold text-blue-700\">AI Prediction Result</h3>\r\n            \r\n            {error && (\r\n              <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm\">\r\n                Error: {error}\r\n              </div>\r\n            )}\r\n\r\n            {isLoading && (\r\n              <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-blue-700 text-sm\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full\"></div>\r\n                  Processing with AI model...\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {!isLoading && !error && !prediction && (\r\n              <div className=\"mt-4\">\r\n                <div className=\"text-sm text-black/70\">Estimated outbreak likelihood</div>\r\n                <div className=\"mt-2 text-3xl font-extrabold text-blue-600\">—</div>\r\n                <div className=\"mt-2 text-black/80 text-sm\">Enter climate data and click \"Compute Probability\" to get AI-powered prediction.</div>\r\n              </div>\r\n            )}\r\n\r\n            {!isLoading && prediction && (\r\n              <div className=\"mt-4 space-y-4\">\r\n                <div>\r\n                  <div className=\"text-sm text-black/70\">Estimated Outbreak Probability</div>\r\n                  <div className=\"mt-2 text-5xl font-extrabold text-blue-600\">\r\n                    {prediction.probability.toFixed(1)}%\r\n                  </div>\r\n                  {typeof prediction.predicted_cases === 'number' && (\r\n                    <div className=\"mt-2 text-sm text-black/70\">Estimated cases: <span className=\"font-bold text-black/90\">{prediction.predicted_cases}</span> patients</div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"pt-4 border-t border-blue-200\">\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <span className=\"text-sm font-semibold text-black/80\">Risk Level:</span>\r\n                    <span\r\n                      className={`px-3 py-1 rounded-full text-sm font-bold ${\r\n                        prediction.risk_level === \"Low\"\r\n                          ? \"bg-green-100 text-green-800\"\r\n                          : prediction.risk_level === \"Moderate\"\r\n                          ? \"bg-yellow-100 text-yellow-800\"\r\n                          : prediction.risk_level === \"High\"\r\n                          ? \"bg-orange-100 text-orange-800\"\r\n                          : \"bg-red-100 text-red-800\"\r\n                      }`}\r\n                    >\r\n                      {prediction.risk_level}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"text-xs text-black/60\">\r\n                    Model Confidence: {prediction.model_confidence}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"pt-4 border-t border-blue-200\">\r\n                  <h4 className=\"font-semibold text-black/90 mb-2\">Public Health Recommendation</h4>\r\n                  <p className=\"text-sm text-black/80 leading-relaxed\">\r\n                    {prediction.recommendation}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {!isLoading && !prediction && (\r\n              <div className=\"mt-6\">\r\n                <h4 className=\"font-semibold text-black/90 mb-3\">Risk Level Interpretation</h4>\r\n                <ul className=\"space-y-2 text-sm text-black/80\">\r\n                  <li className=\"flex gap-2\">\r\n                    <span className=\"text-green-600 font-bold\">0-20%:</span>\r\n                    <span>Low risk — maintain prevention measures.</span>\r\n                  </li>\r\n                  <li className=\"flex gap-2\">\r\n                    <span className=\"text-yellow-600 font-bold\">21-50%:</span>\r\n                    <span>Moderate risk — increase surveillance and vector control.</span>\r\n                  </li>\r\n                  <li className=\"flex gap-2\">\r\n                    <span className=\"text-orange-600 font-bold\">51-80%:</span>\r\n                    <span>High risk — prioritize testing, treatment availability and community measures.</span>\r\n                  </li>\r\n                  <li className=\"flex gap-2\">\r\n                    <span className=\"text-red-600 font-bold\">81-100%:</span>\r\n                    <span>Very high risk — urgent public health response recommended.</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </aside>\r\n        </div>\r\n\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IAEtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IACxD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAMjC;IACV,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAG3C,eAAe,OAAO,CAAmB;QACvC,IAAI,GAAG,EAAE,cAAc;QAEvB,aAAa;QACb,SAAS;QACT,cAAc;QAEd,IAAI;YACF,MAAM,UAAU;gBACd,aAAa,gBAAgB,KAAK,OAAO;gBACzC,UAAU,aAAa,KAAK,OAAO;gBACnC,YAAY,cAAc,KAAK,OAAO;gBACtC,gBAAgB,kBAAkB,KAAK,OAAO;YAChD;YAEA,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,cAAc;YACd,QAAQ,GAAG,CAAC,sBAAsB;QACpC,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,QAAQ,KAAK,CAAC,qBAAqB;QACrC,SAAU;YACR,aAAa;QACf;IACF;IAEA,oBAAoB;IACpB,SAAS;QACP,eAAe;QACf,YAAY;QACZ,aAAa;QACb,iBAAiB;QACjB,cAAc;QACd,SAAS;IACX;IAGA,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAClE,8OAAC;4BAAE,WAAU;sCAAmC;;;;;;;;;;;;8BAGlD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAQ,WAAU;;8CACjB,8OAAC;oCAAG,WAAU;8CAA+B;;;;;;8CAE7C,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,8OAAC;4CACC,MAAK;4CACL,WAAU;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAItF,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,8OAAC;4CACC,MAAK;4CACL,WAAU;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAIpF,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,8OAAC;4CACC,MAAK;4CACL,WAAU;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAInF,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,8OAAC;4CACC,MAAK;4CACL,WAAU;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAKxF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,WAAU;4CACV,SAAS,CAAC,IAAM,OAAO;4CACvB,UAAU;sDAET,YAAY,iBAAiB;;;;;;sDAEhC,8OAAC;4CACC,WAAU;4CACV,SAAS;4CACT,MAAK;4CACL,UAAU;sDACX;;;;;;;;;;;;;;;;;;sCAML,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAG,WAAU;8CAA0B;;;;;;gCAEvC,uBACC,8OAAC;oCAAI,WAAU;;wCAAwE;wCAC7E;;;;;;;gCAIX,2BACC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;;;;;4CAAwF;;;;;;;;;;;;gCAM5G,CAAC,aAAa,CAAC,SAAS,CAAC,4BACxB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,8OAAC;4CAAI,WAAU;sDAA6C;;;;;;sDAC5D,8OAAC;4CAAI,WAAU;sDAA6B;;;;;;;;;;;;gCAI/C,CAAC,aAAa,4BACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAI,WAAU;8DAAwB;;;;;;8DACvC,8OAAC;oDAAI,WAAU;;wDACZ,WAAW,WAAW,CAAC,OAAO,CAAC;wDAAG;;;;;;;gDAEpC,OAAO,WAAW,eAAe,KAAK,0BACrC,8OAAC;oDAAI,WAAU;;wDAA6B;sEAAiB,8OAAC;4DAAK,WAAU;sEAA2B,WAAW,eAAe;;;;;;wDAAQ;;;;;;;;;;;;;sDAI9I,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAK,WAAU;sEAAsC;;;;;;sEACtD,8OAAC;4DACC,WAAW,CAAC,yCAAyC,EACnD,WAAW,UAAU,KAAK,QACtB,gCACA,WAAW,UAAU,KAAK,aAC1B,kCACA,WAAW,UAAU,KAAK,SAC1B,kCACA,2BACJ;sEAED,WAAW,UAAU;;;;;;;;;;;;8DAI1B,8OAAC;oDAAI,WAAU;;wDAAwB;wDAClB,WAAW,gBAAgB;;;;;;;;;;;;;sDAIlD,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DACV,WAAW,cAAc;;;;;;;;;;;;;;;;;;gCAMjC,CAAC,aAAa,CAAC,4BACd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAmC;;;;;;sDACjD,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAK,WAAU;sEAA2B;;;;;;sEAC3C,8OAAC;sEAAK;;;;;;;;;;;;8DAER,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAK,WAAU;sEAA4B;;;;;;sEAC5C,8OAAC;sEAAK;;;;;;;;;;;;8DAER,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAK,WAAU;sEAA4B;;;;;;sEAC5C,8OAAC;sEAAK;;;;;;;;;;;;8DAER,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAK,WAAU;sEAAyB;;;;;;sEACzC,8OAAC;sEAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAW1B","debugId":null}}]
}